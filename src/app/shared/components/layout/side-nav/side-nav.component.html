<div class="flex flex-column h-full p-1 sidenav">
  <div class="text-left mb-4 __logo">
    @if (isShowingRightNavContent()) {
    <div class="flex align-items-center gap-2">
      <button
        class="back-button"
        (click)="closeRightNavContent()"
        title="Voltar ao menu principal"
      >
        <i class="pi pi-arrow-left"></i>
      </button>
      <h2 class="m-0 flex-1">{{ rightNavContentTitle() }}</h2>
    </div>
    } @else {
    <div class="flex align-items-center gap-2">
      <div class="logo-icon">
        <i class="pi pi-chart-line"></i>
      </div>
      <h2 class="m-0">Dashboard</h2>
    </div>
    }
  </div>

  <div class="navigation-section flex-1 overflow-auto">
    <nav class="menu-nav">
      @for (item of menuItems(); track $index) { @if (item.section) {
      <div class="menu-section-header">
        {{ item.section }}
      </div>
      } @else {
      <div
        class="menu-item"
        [class.has-children]="item.children"
        (click)="handleClick(item)"
      >
        <div class="menu-item-content">
          @if (item.icon) {
          <i [class]="item.icon + ' menu-icon'"></i>
          }
          <span class="menu-label">{{ item.label }}</span>
          @if (item.children) {
          <i
            class="pi pi-chevron-down menu-arrow"
            [class.rotated]="isDropdownOpen(item)"
          ></i>
          }
        </div>
        @if (item.children && isDropdownOpen(item)) {
        <div class="submenu">
          @for (child of item.children; track $index) {
          <div
            class="submenu-item"
            (click)="$event.stopPropagation(); handleClick(child)"
          >
            @if (child.icon) {
            <i [class]="child.icon + ' submenu-icon'"></i>
            }
            <span>{{ child.label }}</span>
          </div>
          }
        </div>
        }
      </div>
      } }
    </nav>
  </div>
</div>
