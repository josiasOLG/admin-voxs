<div class="login-container">
  <div class="login-wrapper">
    <p-card class="login-card">
      <ng-template pTemplate="header">
        <div class="login-header">
          <div class="logo-container">
            <img src="assets/logo.png" alt="Logo" class="logo" />
          </div>
          <h2 class="login-title">Bem-vindo de volta</h2>
          <p class="login-subtitle">Faça login para acessar sua conta</p>
        </div>
      </ng-template>

      <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
        <div class="form-group">
          <p-floatlabel>
            <input
              pInputText
              id="email"
              formControlName="email"
              type="email"
              [class.ng-invalid]="hasFieldError('email')"
              class="w-full"
              autocomplete="email"
            />
            <label for="email">Email</label>
          </p-floatlabel>
          <app-validate-input
            [control]="loginForm.get('email')!"
            [error]="getFieldError('email')"
          ></app-validate-input>
        </div>

        <div class="form-group">
          <p-floatlabel>
            <p-password
              formControlName="password"
              inputId="password"
              [feedback]="false"
              [toggleMask]="true"
              [class.ng-invalid]="hasFieldError('password')"
              styleClass="w-full"
              inputStyleClass="w-full"
              autocomplete="current-password"
            ></p-password>
            <label for="password">Senha</label>
          </p-floatlabel>
          <app-validate-input
            [control]="loginForm.get('password')!"
            [error]="getFieldError('password')"
          ></app-validate-input>
        </div>

        <div class="form-actions">
          <div class="forgot-password">
            <a routerLink="/auth/forgot-password" class="forgot-link">
              Esqueceu a senha?
            </a>
          </div>

          <p-button
            type="submit"
            label="Entrar"
            styleClass="w-full login-button"
            [loading]="loading$ | async"
            [disabled]="loading$ | async"
          ></p-button>
        </div>

        <p-divider align="center">
          <span class="divider-text">ou</span>
        </p-divider>

        <div class="register-section">
          <p class="register-text">
            Não tem uma conta?
            <a routerLink="/auth/register" class="register-link">
              Criar conta
            </a>
          </p>
        </div>
      </form>
    </p-card>
  </div>
</div>

